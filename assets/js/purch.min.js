"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),Calc=function e(t){_classCallCheck(this,e),this.budget=t},Cost=function e(t,n){_classCallCheck(this,e),this.product=t,this.reason=n},UI=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"displayCosts",value:function(){Store.getCosts().forEach(function(e){return t.addExpenseToList(e)})}},{key:"addExpenseToList",value:function(e){var t=document.querySelector(".disp"),n=document.createElement("tr");n.innerHTML="\n      <td>"+e.product+"</td>\n      <td>"+e.reason+'</td>\n      <td><a href="#" class="btn btn-danger btn-sm delete">X</a></td>',t.appendChild(n)}},{key:"deleteBook",value:function(e){e.classList.contains("delete")&&e.parentElement.parentElement.remove()}},{key:"clearFields",value:function(){document.querySelector("#product").value="",document.querySelector("#reason").value=""}}]),t}(),Store=function(){function r(){_classCallCheck(this,r)}return _createClass(r,null,[{key:"getCosts",value:function(){return null===localStorage.getItem("costs")?[]:JSON.parse(localStorage.getItem("costs"))}},{key:"addCosts",value:function(e){var t=r.getCosts();t.push(e),localStorage.setItem("costs",JSON.stringify(t))}},{key:"removeBook",value:function(n){var o=r.getCosts();o.forEach(function(e,t){e.product===n&&o.splice(t,1)}),localStorage.setItem("costs",JSON.stringify(o))}}]),r}();document.addEventListener("DOMContentLoaded",UI.displayCosts()),document.getElementById("buy").addEventListener("submit",function(e){e.preventDefault();var t=document.querySelector("#product").value,n=document.querySelector("#reason").value;if(""===t)alert("Product is not filled");else{var o=new Cost(t,n);UI.addExpenseToList(o),Store.addCosts(o),UI.clearFields()}}),document.querySelector(".disp").addEventListener("click",function(e){UI.deleteBook(e.target),Store.removeBook(e.target.parentElement.previousElementSibling.textContent)});